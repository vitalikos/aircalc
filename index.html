<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AirCalc - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞</title>
  <style>
    body { font-family: "Inter", "Helvetica Neue", Arial, sans-serif; margin:0; background:linear-gradient(135deg, #e0f2fe 0%, #cffafe 100%);}
    .app-container { max-width:480px; margin:40px auto; background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.06);}
    .screen { display:none; padding:32px 16px; }
    .screen.active { display:block;}
    .welcome-logo{font-size:80px;margin-bottom:20px;}
    .btn { padding:12px 24px; background:#0ea5e9; color:#fff; border:none; border-radius:8px; cursor:pointer; font-weight:600; font-size:16px; }
    .card { background:#f2f8fc; border-radius:12px; padding:20px; margin-bottom:18px; }
    .result-block { background:#e0f2fe; border-left:4px solid #0ea5e9; padding:16px; border-radius:12px; margin-bottom:18px;}
    label { font-size:14px; font-weight:600; color:#355; }
    input,select { margin:7px 0 16px 0; width:100%; padding:8px; border-radius:6px; border:1px solid #aee; }
    .radio-group,.checkbox-group { margin-bottom:16px; }
    .radio-group label, .checkbox-group label { display:block; margin-bottom:6px;}
    .button-group { display:flex; gap:10px; }
    .recommendation-text{background:rgba(16,185,129,0.1);border-left:4px solid #10b981;padding:10px 16px;border-radius:8px;font-size:14px;}
    .tips-block{background:rgba(245,158,11,0.1);border-left:4px solid #F59E0B;padding:10px;border-radius:8px;margin-top:12px;}
    .tips-block li{margin-bottom:6px;margin-left:18px;}
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Welcome Screen -->
    <div class="screen active welcome-screen" id="welcome">
      <div class="welcome-logo">‚ùÑÔ∏è</div>
      <div style="font-size:28px;font-weight:700;margin-bottom:10px;">üåä AirCalc</div>
      <div style="font-size:17px;">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞</div>
      <div style="margin-bottom:30px;color:#4a6;">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</div>
      <button class="btn" onclick="switchScreen('calculator')">–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç</button>
    </div>
    <!-- Calculator Screen -->
    <div class="screen" id="calculator">
      <h1 style="font-size:22px;margin-bottom:20px;">üìã –†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏</h1>
      <div class="card">
        <div style="font-size:15px;font-weight:700;margin-bottom:9px;">üìê –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–º–µ—â–µ–Ω–∏—è</div>
        <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
        <input type="number" id="area" value="26" min="1" max="500">
        <label>–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–∞ (–º)</label>
        <input type="number" id="height" value="2.75" min="1" max="10" step="0.05">
        <label>‚òÄÔ∏è –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å</label>
        <div class="radio-group">
          <label><input type="radio" name="sunlight" value="30" checked> –ó–∞—Ç–µ–Ω–µ–Ω–Ω–æ–µ (–æ–∫–Ω–∞ –Ω–∞ —Å–µ–≤–µ—Ä)</label>
          <label><input type="radio" name="sunlight" value="35"> –°—Ä–µ–¥–Ω–µ–µ (–≤–æ—Å—Ç–æ–∫/–∑–∞–ø–∞–¥)</label>
          <label><input type="radio" name="sunlight" value="40"> –Ø—Ä–∫–æ–µ (—é–≥)</label>
        </div>
      </div>
      <div class="card">
        <div style="font-size:15px;font-weight:700;margin-bottom:9px;">üë• –õ—é–¥–∏ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏</div>
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π: <span id="peopleCount">2</span></label>
        <input type="range" id="people" min="0" max="20" value="2" style="width:100%;" oninput="document.getElementById('peopleCount').textContent=this.value;">
        <label>üö∂ –£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</label>
        <div class="radio-group">
          <label><input type="radio" name="activity" value="0.1"> üò¥ –ù–∏–∑–∫–∞—è (–æ—Ç–¥—ã—Ö)</label>
          <label><input type="radio" name="activity" value="0.13" checked> üö∂ –°—Ä–µ–¥–Ω—è—è (–¥–æ–º)</label>
          <label><input type="radio" name="activity" value="0.15"> üíº –í—ã—Å–æ–∫–∞—è (–æ—Ñ–∏—Å)</label>
          <label><input type="radio" name="activity" value="0.2"> üèÉ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (—Å–ø–æ—Ä—Ç)</label>
        </div>
      </div>
      <div class="card">
        <div style="font-size:15px;font-weight:700;margin-bottom:9px;">üîß –ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</div>
        <div class="checkbox-group">
          <label><input type="checkbox" class="device" data-power="0.3"> üíª –ö–æ–º–ø—å—é—Ç–µ—Ä (+0.3 –∫–í—Ç)</label>
          <label><input type="checkbox" class="device" data-power="0.2"> üì∫ –¢–µ–ª–µ–≤–∏–∑–æ—Ä (+0.2 –∫–í—Ç)</label>
          <label><input type="checkbox" class="device" data-power="0.05"> ‚ùÑÔ∏è –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ (+0.05 –∫–í—Ç)</label>
        </div>
        <label>–î—Ä—É–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ (–í—Ç)</label>
        <input type="number" id="otherPower" value="0" min="0">
      </div>
      <div class="card">
        <div style="font-size:15px;font-weight:700;margin-bottom:9px;">‚ûï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã</div>
        <div class="checkbox-group">
          <label><input type="checkbox" class="factor" data-factor="top_floor" data-multiplier="0.15"> üè¢ –í–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ (+15%)</label>
          <label><input type="checkbox" class="factor" data-factor="corner" data-multiplier="0.10"> üìê –£–≥–ª–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ (+10%)</label>
          <label><input type="checkbox" class="factor" data-factor="kitchen" data-multiplier="0.20"> üç≥ –ö—É—Ö–Ω—è (+20%)</label>
          <label><input type="checkbox" class="factor" data-factor="windows" data-multiplier="0.15"> ü™ü –ë–æ–ª—å—à–æ–µ –æ—Å—Ç–µ–∫–ª–µ–Ω–∏–µ (+15%)</label>
        </div>
      </div>
      <button class="btn" onclick="calculate()" style="margin-top:18px;">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    </div>
    <!-- Results Screen -->
    <div class="screen" id="results">
      <h1 style="font-size:22px;margin-bottom:18px;text-align:center;">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h1>
      <div class="result-block" id="modelBlock">
        <div style="font-size:16px;font-weight:700;">‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–ê–Ø –ú–û–î–ï–õ–¨</div>
        <div style="font-size:19px;font-weight:700;color:#0ea5e9;" id="modelName">–ú–æ–¥–µ–ª—å 24</div>
        <div id="modelDetails"></div>
        <div style="margin-top:10px;"><strong>üìä –í–∞—à —Ä–∞—Å—á–µ—Ç:</strong><br>
          –¢—Ä–µ–±—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: <strong><span id="resultQ">6.82</span> –∫–í—Ç</strong><br>
          –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: <strong><span id="resultRange">6.48 - 7.84</span> –∫–í—Ç</strong>
        </div>
        <div class="recommendation-text" id="recText">
          ‚úì –≠—Ç–∞ –º–æ–¥–µ–ª—å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –í–∞—à–∏—Ö —É—Å–ª–æ–≤–∏–π.
        </div>
      </div>
      <div id="largeBlock" style="display:none;">
        <div class="result-block">
          <div style="color:#b00;font-size:16px;font-weight:700;">‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è</div>
          <div id="largeRoomText"></div>
          <div style="margin-top:14px;font-weight:600;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: <span id="semiPower"></span> –∫–í—Ç</div>
          <div style="margin:10px 0 0 0;">–ë—ã—Ç–æ–≤—ã—Ö –Ω–∞—Å—Ç–µ–Ω–Ω—ã—Ö –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤ —Ç–∞–∫–æ–π –º–æ—â–Ω–æ—Å—Ç–∏<br>–Ω–µ –±—ã–≤–∞–µ—Ç.
            <br>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã: <br>–∫–∞—Å—Å–µ—Ç–Ω—ã–µ, –∫–∞–Ω–∞–ª—å–Ω—ã–µ, –∫–æ–ª–æ–Ω–Ω—ã–µ, –Ω–∞–ø–æ–ª—å–Ω–æ-–ø–æ—Ç–æ–ª–æ—á–Ω—ã–µ.
          </div>
        </div>
      </div>
      <div style="margin-bottom:18px;margin-top:8px;">
        <button class="btn" onclick="toggleDetails()">‚ñº –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ?</button>
        <div id="calcDetails" style="display:none;color:#355;background:#e9f7fd;padding:8px;border-radius:6px;font-size:13px;margin-top:8px;"></div>
      </div>
      <div class="tips-block">
        <div style="font-weight:600;">üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –≠–ö–°–ü–ï–†–¢–û–í:</div>
        <ul>
          <li>–í —Å—Ä–µ–¥–Ω–µ–º 1 –∫–í—Ç –Ω–∞ 10 –º¬≤ –ø–ª–æ—â–∞–¥–∏</li>
          <li>–ó–∞–ø–∞—Å –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—É—é –∂–∞—Ä—É</li>
          <li>–î–ª—è –∫—É—Ö–Ω–∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∞ 20-30% –º–æ—â–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ</li>
          <li>–í–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ –∏ —É–≥–ª–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –º–æ—â–Ω–æ—Å—Ç–∏</li>
          <li>–ë–æ–ª—å—à–æ–µ –æ—Å—Ç–µ–∫–ª–µ–Ω–∏–µ –ø–æ–≤—ã—à–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–æ—â–Ω–æ—Å—Ç–∏</li>
        </ul>
      </div>
      <div class="button-group" style="margin-top:20px;">
        <button class="btn" style="background:#14b8a6;" onclick="switchScreen('calculator')">–ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç</button>
      </div>
    </div>
  </div>
  <script>
    // –ë–∞–∑–∞ –º–æ–¥–µ–ª–µ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤ (max 10–∫–í—Ç ‚Äî –±—ã—Ç–æ–≤—ã–µ)
    const acModels = [
      {marking: 20, model: 7, btu: 7000, kw: 2.1, area: 20},
      {marking: 25, model: 9, btu: 9000, kw: 2.6, area: 25},
      {marking: 35, model: 12, btu: 12000, kw: 3.5, area: 35},
      {marking: 50, model: 18, btu: 18000, kw: 5.3, area: 50},
      {marking: 71, model: 24, btu: 24000, kw: 7.0, area: 70},
      {marking: 80, model: 28, btu: 28000, kw: 8.2, area: 80},
      {marking: 100, model: 36, btu: 36000, kw: 10.6, area: 110}
      // –¢–æ–ª—å–∫–æ –±—ã—Ç–æ–≤—ã–µ ‚â§10 –∫–í—Ç
    ];
    function switchScreen(screen) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screen).classList.add('active');
    }
    function calculate() {
      // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
      const area = parseFloat(document.getElementById('area').value);
      const height = parseFloat(document.getElementById('height').value);
      const sunlight = parseFloat(document.querySelector('input[name="sunlight"]:checked').value);
      const people = parseInt(document.getElementById('people').value);
      const activity = parseFloat(document.querySelector('input[name="activity"]:checked').value);
      const otherPower = parseFloat(document.getElementById('otherPower').value) || 0;
      // Q1 = –ø–æ–º–µ—â–µ–Ω–∏–µ
      const Q1 = (area * height * sunlight) / 1000;
      // Q2 = –ª—é–¥–∏
      const Q2 = people * activity;
      // Q3 = —Ç–µ—Ö–Ω–∏–∫–∞
      let Q3 = 0;
      document.querySelectorAll('.device:checked').forEach(device =>{
        Q3 += parseFloat(device.dataset.power);
      });
      Q3 += (otherPower * 0.3) / 1000;
      let Q = Q1 + Q2 + Q3;
      document.querySelectorAll('.factor:checked').forEach(factor =>{
        Q *= (1 + parseFloat(factor.dataset.multiplier));
      });
      const Q_min = Q * 0.95;
      const Q_max = Q * 1.15;

      // –ú–æ–¥–µ–ª—å –±—ã—Ç–æ–≤–æ–≥–æ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ Q <= 10–∫–í—Ç)
      let recommended = acModels[0];
      let modelDetails = '';
      if (Q <= 10) {
        for (let model of acModels) {
          if (model.kw >= Q_min && model.kw <= 10.6) {
            recommended = model;
            if (model.kw >= Q) break;
          }
        }
        modelDetails = `<strong>BTU:</strong> ${recommended.btu}<br>
                        <strong>–ú–æ—â–Ω–æ—Å—Ç—å:</strong> ${recommended.kw} –∫–í—Ç<br>
                        <strong>–î–ª—è –ø–ª–æ—â–∞–¥–∏:</strong> –¥–æ ${recommended.area} –º¬≤`;
        document.getElementById("recText").textContent =
          "‚úì –≠—Ç–∞ –º–æ–¥–µ–ª—å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –í–∞—à–∏—Ö —É—Å–ª–æ–≤–∏–π. –î–ª—è –±–æ–ª—å—à–µ–≥–æ –∑–∞–ø–∞—Å–∞ –º–æ—â–Ω–æ—Å—Ç–∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.";
        document.getElementById("largeBlock").style.display = "none";
        document.getElementById("modelName").textContent = `–ú–æ–¥–µ–ª—å ${recommended.model}`;
      } else {
        // –ï—Å–ª–∏ –±–æ–ª—å—à–µ 10–∫–í—Ç ‚Äî –±—ã—Ç–æ–≤—ã—Ö –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é
        let nextPower = Math.min(Math.ceil(Q / 2)*2, 30); // —à–∞–≥ 2 –∫–í—Ç, –Ω–æ –Ω–µ –±–æ–ª—å—à–µ 30!
        modelDetails = `<strong>BTU:</strong> ‚Äî
                        <br><strong>–ú–æ—â–Ω–æ—Å—Ç—å:</strong> ‚Äî<br>
                        <strong>–î–ª—è –ø–ª–æ—â–∞–¥–∏:</strong> ‚Äî`;
        document.getElementById("recText").textContent =
          "–ë—ã—Ç–æ–≤—ã—Ö –Ω–∞—Å—Ç–µ–Ω–Ω—ã—Ö –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤ —Ç–∞–∫–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–≤–∞–µ—Ç. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã: –∫–∞–Ω–∞–ª—å–Ω—ã–µ, –∫–∞—Å—Å–µ—Ç–Ω—ã–µ, –∫–æ–ª–æ–Ω–Ω—ã–µ –∏–ª–∏ –Ω–∞–ø–æ–ª—å–Ω–æ-–ø–æ—Ç–æ–ª–æ—á–Ω—ã–µ ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–æ—â–Ω–æ—Å—Ç–∏.";
        document.getElementById("largeBlock").style.display = "block";
        document.getElementById("modelName").textContent = `–ú–æ—â–Ω–æ—Å—Ç—å ‚â• ${nextPower} –∫–í—Ç`;
        document.getElementById("semiPower").textContent = nextPower.toString();
        document.getElementById("largeRoomText").textContent =
          `–î–ª—è –≤–∞—à–µ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –º–æ—â–Ω–æ—Å—Ç—å—é –Ω–µ –º–µ–Ω–µ–µ ${Q.toFixed(2)} –∫–í—Ç. –û—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏.`;
      }
      document.getElementById("modelDetails").innerHTML = modelDetails;
      document.getElementById("resultQ").textContent = Q.toFixed(2);
      document.getElementById("resultRange").textContent = `${Q_min.toFixed(2)} - ${Q_max.toFixed(2)}`;

      // –î–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞
      let detailsText = `Q‚ÇÅ (–ø–æ–º–µ—â–µ–Ω–∏–µ) = ${area} √ó ${height} √ó ${sunlight} / 1000 = ${Q1.toFixed(2)} –∫–í—Ç
`
                      + `Q‚ÇÇ (–ª—é–¥–∏) = ${people} √ó ${activity} = ${Q2.toFixed(2)} –∫–í—Ç
`
                      + `Q‚ÇÉ (—Ç–µ—Ö–Ω–∏–∫–∞) = ${Q3.toFixed(2)} –∫–í—Ç

`
                      + `Q = ${Q.toFixed(2)} –∫–í—Ç
`
                      + `–î–∏–∞–ø–∞–∑–æ–Ω: ${Q_min.toFixed(2)} - ${Q_max.toFixed(2)} –∫–í—Ç`;
      document.getElementById('calcDetails').textContent = detailsText;

      switchScreen('results');
    }
    function toggleDetails() {
      var cd = document.getElementById("calcDetails");
      cd.style.display = (cd.style.display==="none" || !cd.style.display) ? "block":"none";
    }
  </script>
</body>
</html>